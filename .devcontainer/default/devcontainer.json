{
  "name": "default",
  "build": {
    "dockerfile": "Dockerfile"
  },
  "features": {
    "ghcr.io/georglauterbach/dev-container-features/vscode-cache-extensions:0.2": {},
    "ghcr.io/georglauterbach/dev-container-features/hermes:12.0": {},
    "ghcr.io/georglauterbach/dev-container-features/lang-rust:0.2": {},
    "ghcr.io/georglauterbach/dev-container-features/lang-sh:0.4": {}
  },
  "containerUser": "user",
  "remoteUser": "user",
  "updateRemoteUserUID": true,
  "containerEnv": {
    // ? Rust
    "CARGO_TARGET_DIR": "${containerWorkspaceFolder}/code/target",
    "CARGO_HOME": "${containerWorkspaceFolder}/code/.rust/cargo/home",
    "RUSTUP_HOME": "${containerWorkspaceFolder}/code/.rust/rustup"
  },
  "remoteEnv": {
    "PATH": "${containerEnv:CARGO_HOME}/bin:/home/user/.local/bin:${containerEnv:PATH}"
  },
  "postCreateCommand": "hermes --exclude=nvim",
  "mounts": [
    {
      "source": "com.github.georglauterbach.hermes.cache",
      "target": "/home/user/.cache",
      "type": "volume"
    }
  ],
  "customizations": {
    "vscode": {
      "extensions": [
        "aaron-bond.better-comments",
        "xshrim.txt-syntax"
      ],
      "settings": {
        // * basics
        "files.watcherExclude": {
          "**/.git/objects/**": true,
          "code/.rust/**": true
        },
        "files.exclude": {
          "**/.git": true,
          "code/.rust": true
        },
        // * extensions::vadimcn.vscode-lldb
        "lldb.launch.preRunCommands": [
          "command script import ${containerEnv:RUST_PRETTIFIER_FOR_LLDB_FILE}"
        ]
      }
    }
  }
}
