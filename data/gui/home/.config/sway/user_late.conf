# -----------------------------------------------
# ----  Workspace Assignments  ------------------
# -----------------------------------------------

assign     [app_id="code"] $wm.ws.02.name

for_window [app_id="org.mozilla.firefox"]                    \
move to workspace $wm.ws.03.name, workspace $wm.ws.03.name
for_window [app_id="chrome-teams.microsoft.com__v2-Default"] \
move to workspace $wm.ws.10.name, workspace $wm.ws.10.name

# -----------------------------------------------
# ----  Key Bindings  ---------------------------
# -----------------------------------------------

# browser
bindsym $spr+f exec --no-startup-id systemd-run --user --scope \
    gtk-launch $(xdg-settings get default-web-browser)

# files
bindsym $spr+n exec nautilus

# VS Code
bindsym $spr+c exec code

# -----------------------------------------------
# ----  Auto Start of Applications  -------------
# -----------------------------------------------

exec flatpak run com.nextcloud.desktopclient.nextcloud \
    >"${HOME}/.cache/log/nextcloud.stdout.log" \
    2>"${HOME}/.cache/log/nextcloud.stderr.log"

# -----------------------------------------------
# ----  Regolith Finalization  ------------------
# -----------------------------------------------

exec --no-startup-id [ -z "${NOTIFY_SOCKET:-}"      \
  && systemctl --user start regolith-wayland.target \
  || systemd-notify --ready
